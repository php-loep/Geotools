<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Geotools by toin0u</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>Geotools</h1>
        <p>Geo-related tools PHP 5.3+ library built atop Geocoder and React libraries</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/toin0u/Geotools" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/toin0u/Geotools/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/toin0u/Geotools/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <h1>Geotools</h1>

<p><strong>Geotools</strong> is a PHP geo-related library, built atop <a href="https://github.com/willdurand/Geocoder">Geocoder</a> and
<a href="https://github.com/reactphp/react">React</a> libraries.</p>

<p><a href="http://travis-ci.org/toin0u/Geotools"><img src="https://secure.travis-ci.org/toin0u/Geotools.png" alt="Build Status"></a>
<a href="http://stillmaintained.com/toin0u/Geotools"><img src="http://stillmaintained.com/toin0u/Geotools.png" alt="project status"></a></p>

<h2>Features</h2>

<ul>
<li>
<strong>Batch</strong> geocode &amp; reverse geocoding request(s) in <strong>serie</strong> / in <strong>parallel</strong> against one or a
<strong>set of providers</strong>. <a href="#batch">»</a>
</li>
<li>Compute geocode &amp; reverse geocoding in the <strong>command-line interface</strong> (CLI) + dumpers and formatters. <a href="#cli">»</a>
</li>
<li>Accept <strong>almost</strong> all kind of WGS84
<a href="http://en.wikipedia.org/wiki/Geographic_coordinate_conversion">geographic coordinates</a> as coordinates.
<a href="#coordinate--ellipsoid">»</a>
</li>
<li>Support <strong>23 different ellipsoids</strong> and it's easy to provide a new one if needed. <a href="#coordinate--ellipsoid">»</a>
</li>
<li>
<strong>Convert</strong> and <strong>format</strong> decimal degrees coordinates to decimal minutes or degrees minutes seconds coordinates.
<a href="#convert">»</a>
</li>
<li>
<strong>Convert</strong> decimal degrees coordinates in the
<a href="http://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system">Universal Transverse Mercator</a>
(UTM) projection. <a href="#convert">»</a>
</li>
<li>Compute the distance in <strong>meter</strong> (by default), <strong>km</strong>, <strong>mi</strong> or <strong>ft</strong> between two coordinates using <strong>flat</strong>,
<strong>haversine</strong> or <strong>vincenty</strong> algorithms. <a href="#distance">»</a>
</li>
<li>Compute the initial and final <strong>bearing</strong> from the origin coordinate to the destination coordinate in degrees.
<a href="#point">»</a>
</li>
<li>Compute the initial and final <strong>cardinal point</strong> (direction) from the origin coordinate to the destination
coordinate, read more in <a href="http://en.wikipedia.org/wiki/Cardinal_direction">wikipedia</a>. <a href="#point">»</a>
</li>
<li>Compute the <strong>half-way point</strong> (coordinate) between the origin and the destination coordinates. <a href="#point">»</a>
</li>
<li>Compute the <strong>destination point</strong> (coordinate) with given bearing in degrees and a distance in meters. <a href="#point">»</a>
</li>
<li>Encode a coordinate to a <strong>geo hash</strong> string and decode it to a coordinate, read more in
<a href="http://en.wikipedia.org/wiki/Geohash">wikipedia</a> and on <a href="http://geohash.org/">geohash.org</a>. <a href="#geohash">»</a>
</li>
<li>A <strong>command-line interface</strong> (CLI) for <strong>Distance</strong>, <strong>Point</strong>, <strong>Geohash</strong> and <strong>Convert</strong> classes. <a href="#cli">»</a>
</li>
<li>... more to come ...</li>
</ul><h2>Installation</h2>

<p>Geotools can be found on <a href="https://packagist.org/packages/toin0u/geotools">Packagist</a>.
The recommended way to install Geotools is through <a href="http://getcomposer.org">composer</a>.</p>

<p>Run these commands to install composer, Geotools and its dependencies:</p>

<div class="highlight"><pre><span class="nv">$ </span>curl -sS https://getcomposer.org/installer | php
<span class="nv">$ </span>php composer.phar require toin0u/geotools:@stable
</pre></div>

<p>Now you can add the autoloader, and you will have access to the library:</p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>
</pre></div>

<p>If you don't use neither <strong>Composer</strong> nor a <em>ClassLoader</em> in your application, just require the provided autoloader:</p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">require_once</span> <span class="s1">'src/autoload.php'</span><span class="p">;</span>
</pre></div>

<h2>Usage &amp; API</h2>

<h2>Coordinate &amp; Ellipsoid</h2>

<p>The default geodetic datum is <a href="http://en.wikipedia.org/wiki/World_Geodetic_System">WGS84</a> and coordinates are in
decimal degrees.</p>

<p>Here are the available ellipsoids: <code>AIRY</code>, <code>AUSTRALIAN_NATIONAL</code>, <code>BESSEL_1841</code>, <code>BESSEL_1841_NAMBIA</code>,
<code>CLARKE_1866</code>, <code>CLARKE_1880</code>, <code>EVEREST</code>, <code>FISCHER_1960_MERCURY</code>, <code>FISCHER_1968</code>, <code>GRS_1967</code>, <code>GRS_1980</code>,
<code>HELMERT_1906</code>, <code>HOUGH</code>, <code>INTERNATIONAL</code>, <code>KRASSOVSKY</code>, <code>MODIFIED_AIRY</code>, <code>MODIFIED_EVEREST</code>,
<code>MODIFIED_FISCHER_1960</code>, <code>SOUTH_AMERICAN_1969</code>, <code>WGS60</code>, <code>WGS66</code>, <code>WGS72</code>, and <code>WGS84</code>.</p>

<p>If you need to use an other ellipsoid, just create an array like this:</p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$myEllipsoid</span> <span class="o">=</span> <span class="nx">\Geotools\Coordinate\Ellipsoid</span><span class="o">::</span><span class="na">createFromArray</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'My Ellipsoid'</span><span class="p">,</span> <span class="c1">// The name of the Ellipsoid</span>
    <span class="s1">'a'</span>    <span class="o">=&gt;</span> <span class="mf">123.0</span><span class="p">,</span> <span class="c1">// The semi-major axis (equatorial radius) in meters</span>
    <span class="s1">'invF'</span> <span class="o">=&gt;</span> <span class="mf">456.0</span> <span class="c1">// The inverse flattening</span>
<span class="p">));</span>
</pre></div>

<p><strong>Geotools</strong> is built atop <a href="https://github.com/willdurand/Geocoder">Geocoder</a>. It means it's possible to use the
<code>\Geocoder\Result\ResultInterface</code> directly but it's also possible to use a <em>string</em> or a simple <em>array</em> with its
latitude and longitude.</p>

<p>It supports <a href="http://en.wikipedia.org/wiki/Geographic_coordinate_conversion">valid and acceptable geographic coordinates</a>
like:</p>

<ul>
<li>40:26:46N,079:56:55W</li>
<li>40:26:46.302N 079:56:55.903W</li>
<li>40°26′47″N 079°58′36″W</li>
<li>40d 26′ 47″ N 079d 58′ 36″ W</li>
<li>40.446195N 79.948862W</li>
<li>40.446195, -79.948862</li>
<li>40° 26.7717, -79° 56.93172</li>
</ul><p>Latitudes below -90.0 or above 90.0 degrees are <em>capped</em> through <code>\Geotools\Coordinate\Coordinate::normalizeLatitude()</code>.<br>
Longitudes below -180.0 or abode 180.0 degrees are <em>wrapped</em> through <code>\Geotools\Coordinate\Coordinate::normalizeLongitude()</code>.</p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">Geotools\Coordinate\Coordinate</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Geotools\Coordinate\Ellipsoid</span><span class="p">;</span>

<span class="c1">// from an \Geocoder\Result\ResultInterface instance within Airy ellipsoid</span>
<span class="nv">$coordinate</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Coordinate</span><span class="p">(</span><span class="nv">$geocoderResult</span><span class="p">,</span> <span class="nx">Ellipsoid</span><span class="o">::</span><span class="na">createFromName</span><span class="p">(</span><span class="nx">Ellipsoid</span><span class="o">::</span><span class="na">AIRY</span><span class="p">));</span>
<span class="c1">// or in an array of latitude/longitude coordinate within GRS 1980 ellipsoid</span>
<span class="nv">$coordinate</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Coordinate</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="mf">48.8234055</span><span class="p">,</span> <span class="mf">2.3072664</span><span class="p">),</span> <span class="nx">Ellipsoid</span><span class="o">::</span><span class="na">createFromName</span><span class="p">(</span><span class="nx">Ellipsoid</span><span class="o">::</span><span class="na">GRS_1980</span><span class="p">));</span>
<span class="c1">// or in latitude/longitude coordinate within WGS84 ellipsoid</span>
<span class="nv">$coordinate</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Coordinate</span><span class="p">(</span><span class="s1">'48.8234055, 2.3072664'</span><span class="p">);</span>
<span class="c1">// or in degrees minutes seconds coordinate within WGS84 ellipsoid</span>
<span class="nv">$coordinate</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Coordinate</span><span class="p">(</span><span class="s1">'48°49′24″N, 2°18′26″E'</span><span class="p">);</span>
<span class="c1">// or in decimal minutes coordinate within WGS84 ellipsoid</span>
<span class="nv">$coordinate</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Coordinate</span><span class="p">(</span><span class="s1">'48 49.4N, 2 18.43333E'</span><span class="p">);</span>
<span class="c1">// the result will be:</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"Latitude: %F</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$coordinate</span><span class="o">-&gt;</span><span class="na">getLatitude</span><span class="p">());</span> <span class="c1">// 48.8234055</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"Longitude: %F</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$coordinate</span><span class="o">-&gt;</span><span class="na">getLongitude</span><span class="p">());</span> <span class="c1">// 2.3072664</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"Ellipsoid name: %s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$coordinate</span><span class="o">-&gt;</span><span class="na">getEllipsoid</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">());</span> <span class="c1">// WGS 84</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"Equatorial radius: %F</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$coordinate</span><span class="o">-&gt;</span><span class="na">getEllipsoid</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getA</span><span class="p">());</span> <span class="c1">// 6378136.0</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"Polar distance: %F</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$coordinate</span><span class="o">-&gt;</span><span class="na">getEllipsoid</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getB</span><span class="p">());</span> <span class="c1">// 6356751.317598</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"Inverse flattening: %F</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$coordinate</span><span class="o">-&gt;</span><span class="na">getEllipsoid</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getInvF</span><span class="p">());</span> <span class="c1">// 298.257224</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"Mean radius: %F</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$coordinate</span><span class="o">-&gt;</span><span class="na">getEllipsoid</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getArithmeticMeanRadius</span><span class="p">());</span> <span class="c1">// 6371007.772533</span>
</pre></div>

<h2>Convert</h2>

<p>It provides methods (and aliases) to convert <em>decimal degrees</em> WGS84 coordinates to <em>degrees minutes seconds</em>
or <em>decimal minutes</em> WGS84 coordinates. You can format the output string easily.</p>

<p>You can also convert them in the Universal Transverse Mercator (UTM) projection (Southwest coast of Norway and the
region of Svalbard are covered).</p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$geotools</span>   <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geotools\Geotools</span><span class="p">();</span>
<span class="nv">$coordinate</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geotools\Coordinate\Coordinate</span><span class="p">(</span><span class="s1">'40.446195, -79.948862'</span><span class="p">);</span>
<span class="nv">$converted</span>  <span class="o">=</span> <span class="nv">$geotools</span><span class="o">-&gt;</span><span class="na">convert</span><span class="p">(</span><span class="nv">$coordinate</span><span class="p">);</span>
<span class="c1">// convert to decimal degrees without and with format string</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$converted</span><span class="o">-&gt;</span><span class="na">toDecimalMinutes</span><span class="p">());</span> <span class="c1">// 40 26.7717N, -79 56.93172W</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$converted</span><span class="o">-&gt;</span><span class="na">toDM</span><span class="p">(</span><span class="s1">'%P%D°%N %p%d°%n'</span><span class="p">));</span> <span class="c1">// 40°26.7717 -79°56.93172</span>
<span class="c1">// convert to degrees minutes seconds without and with format string</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$converted</span><span class="o">-&gt;</span><span class="na">toDegreesMinutesSeconds</span><span class="p">(</span><span class="s1">'&lt;p&gt;%P%D:%M:%S, %p%d:%m:%s&lt;/p&gt;'</span><span class="p">));</span> <span class="c1">// &lt;p&gt;40:26:46, -79:56:56&lt;/p&gt;</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$converted</span><span class="o">-&gt;</span><span class="na">toDMS</span><span class="p">());</span> <span class="c1">// 40°26′46″N, 79°56′56″W</span>
<span class="c1">// convert in the UTM projection (standard format)</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$converted</span><span class="o">-&gt;</span><span class="na">toUniversalTransverseMercator</span><span class="p">());</span> <span class="c1">// 17T 589138 4477813</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$converted</span><span class="o">-&gt;</span><span class="na">toUTM</span><span class="p">());</span> <span class="c1">// 17T 589138 4477813 (alias)</span>
</pre></div>

<p>Here is the mapping:</p>

<table>
<tr>
<th><strong>Decimal minutes</strong></th>
<th>Latitude</th>
<th>Longitude</th>
</tr>
<tr>
<td>Positive or negative sign</td>
<td><code>%P</code></td>
<td><code>%p</code></td>
</tr>
<tr>
<td>Direction</td>
<td><code>%L</code></td>
<td><code>%l</code></td>
</tr>
<tr>
<td>Degrees</td>
<td><code>%D</code></td>
<td><code>%d</code></td>
</tr>
<tr>
<td>Decimal minutes</td>
<td><code>%N</code></td>
<td><code>%n</code></td>
</tr>
</table><table>
<tr>
<th><strong>Degrees minutes seconds</strong></th>
<th>Latitude</th>
<th>Longitude</th>
</tr>
<tr>
<td>Positive or negative sign</td>
<td><code>%P</code></td>
<td><code>%p</code></td>
</tr>
<tr>
<td>Direction</td>
<td><code>%L</code></td>
<td><code>%l</code></td>
</tr>
<tr>
<td>Degrees</td>
<td><code>%D</code></td>
<td><code>%d</code></td>
</tr>
<tr>
<td>Minutes</td>
<td><code>%M</code></td>
<td><code>%m</code></td>
</tr>
<tr>
<td>Seconds</td>
<td><code>%S</code></td>
<td><code>%s</code></td>
</tr>
</table><h2>Batch</h2>

<p>It provides a very handy way to batch geocode and reverse geocoding requests in <em>serie</em> or in <em>parallel</em> against
a set of providers.<br>
Thanks to <a href="https://github.com/willdurand/Geocoder">Geocoder</a> and <a href="https://github.com/reactphp/react">React</a> libraries.</p>

<p>It's possible to batch <em>one request</em> (a string) or a <em>set of request</em> (an array) against <em>one provider</em> or
<em>set of providers</em>.</p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$geocoder</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geocoder\Geocoder</span><span class="p">();</span>
<span class="nv">$adapter</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geocoder\HttpAdapter\CurlHttpAdapter</span><span class="p">();</span>

<span class="nv">$geocoder</span><span class="o">-&gt;</span><span class="na">registerProviders</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">\Geocoder\Provider\GoogleMapsProvider</span><span class="p">(</span><span class="nv">$adapter</span><span class="p">),</span>
    <span class="k">new</span> <span class="nx">\Geocoder\Provider\OpenStreetMapsProvider</span><span class="p">(</span><span class="nv">$adapter</span><span class="p">),</span>
    <span class="k">new</span> <span class="nx">\Geocoder\Provider\BingMapsProvider</span><span class="p">(</span><span class="nv">$adapter</span><span class="p">,</span> <span class="s1">'&lt;FAKE_API_KEY&gt;'</span><span class="p">),</span> <span class="c1">// throws InvalidCredentialsException</span>
    <span class="k">new</span> <span class="nx">\Geocoder\Provider\YandexProvider</span><span class="p">(</span><span class="nv">$adapter</span><span class="p">),</span>
    <span class="k">new</span> <span class="nx">\Geocoder\Provider\FreeGeoIpProvider</span><span class="p">(</span><span class="nv">$adapter</span><span class="p">),</span>
    <span class="k">new</span> <span class="nx">\Geocoder\Provider\GeoipProvider</span><span class="p">(),</span>
<span class="p">));</span>

<span class="nv">$geotools</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geotools\Geotools</span><span class="p">();</span>
<span class="nv">$results</span>  <span class="o">=</span> <span class="nv">$geotools</span><span class="o">-&gt;</span><span class="na">batch</span><span class="p">(</span><span class="nv">$geocoder</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">geocode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">'Paris, France'</span><span class="p">,</span>
    <span class="s1">'Copenhagen, Denmark'</span><span class="p">,</span>
    <span class="s1">'74.200.247.59'</span><span class="p">,</span>
    <span class="s1">'::ffff:66.147.244.214'</span>
<span class="p">))</span><span class="o">-&gt;</span><span class="na">parallel</span><span class="p">();</span>

<span class="nv">$dumper</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geocoder\Dumper\WktDumper</span><span class="p">();</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$results</span> <span class="k">as</span> <span class="nv">$result</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// if a provider throws an exception (UnsupportedException, InvalidCredentialsException ...)</span>
    <span class="c1">// an custom /Geocoder/Result/Geocoded instance is returned which embedded the name of the provider,</span>
    <span class="c1">// the query string and the exception string. It's possible to use dumpers</span>
    <span class="c1">// and/or formatters from the Geocoder library.</span>
    <span class="nb">printf</span><span class="p">(</span><span class="s2">"%s|%s|%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
        <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">getProviderName</span><span class="p">(),</span>
        <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">getQuery</span><span class="p">(),</span>
        <span class="s1">''</span> <span class="o">===</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">getExceptionMessage</span><span class="p">()</span> <span class="o">?</span> <span class="nv">$dumper</span><span class="o">-&gt;</span><span class="na">dump</span><span class="p">(</span><span class="nv">$result</span><span class="p">)</span> <span class="o">:</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">getExceptionMessage</span><span class="p">()</span>
    <span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>You should get 24 results (4 values to geocode against 6 providers) something like:</p>

<pre><code>google_maps|Paris, France|POINT(2.352222 48.856614)
google_maps|Copenhagen, Denmark|POINT(12.568337 55.676097)
google_maps|74.200.247.59|The GoogleMapsProvider does not support IP addresses.
google_maps|::ffff:66.147.244.214|The GoogleMapsProvider does not support IP addresses.
openstreetmaps|Paris, France|POINT(2.352133 48.856506)
openstreetmaps|Copenhagen, Denmark|POINT(12.570072 55.686724)
openstreetmaps|74.200.247.59|Could not execute query http://nominatim.openstreetmap.org/search?q=74.200.247.59&amp;format=xml&amp;addressdetails=1&amp;limit=1
openstreetmaps|::ffff:66.147.244.214|The OpenStreetMapsProvider does not support IPv6 addresses.
bing_maps|Paris, France|Could not execute query http://dev.virtualearth.net/REST/v1/Locations/?q=Paris%2C+France&amp;key=&lt;FAKE_API_KEY&gt;
bing_maps|Copenhagen, Denmark|Could not execute query http://dev.virtualearth.net/REST/v1/Locations/?q=Copenhagen%2C+Denmark&amp;key=&lt;FAKE_API_KEY&gt;
bing_maps|74.200.247.59|The BingMapsProvider does not support IP addresses.
bing_maps|::ffff:66.147.244.214|The BingMapsProvider does not support IP addresses.
yandex|Paris, France|POINT(2.341198 48.856929)
yandex|Copenhagen, Denmark|POINT(12.567602 55.675682)
yandex|74.200.247.59|The YandexProvider does not support IP addresses.
yandex|::ffff:66.147.244.214|The YandexProvider does not support IP addresses.
free_geo_ip|Paris, France|The FreeGeoIpProvider does not support Street addresses.
free_geo_ip|Copenhagen, Denmark|The FreeGeoIpProvider does not support Street addresses.
free_geo_ip|74.200.247.59|POINT(-122.415600 37.748400)
free_geo_ip|::ffff:66.147.244.214|POINT(-111.613300 40.218100)
geoip|Paris, France|The GeoipProvider does not support Street addresses.
geoip|Copenhagen, Denmark|The GeoipProvider does not support Street addresses.
geoip|74.200.247.59|POINT(-122.415604 37.748402)
geoip|::ffff:66.147.244.214|The GeoipProvider does not support IPv6 addresses.
</code></pre>

<p>Batch reverse geocoding is something like:</p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="c1">// ... $geocoder like the previous example ...</span>
<span class="c1">// If you want to reverse one coordinate</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$geotools</span><span class="o">-&gt;</span><span class="na">batch</span><span class="p">(</span><span class="nv">$geocoder</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">reverse</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">\Geotools\Coordinate\Coordinate</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="mf">2.307266</span><span class="p">,</span> <span class="mf">48.823405</span><span class="p">))</span>
<span class="p">)</span><span class="o">-&gt;</span><span class="na">parallel</span><span class="p">();</span>
<span class="c1">// Or if you want to reverse geocoding 3 coordinates</span>
<span class="nv">$coordinates</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">\Geotools\Coordinate\Coordinate</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="mf">2.307266</span><span class="p">,</span> <span class="mf">48.823405</span><span class="p">)),</span>
    <span class="k">new</span> <span class="nx">\Geotools\Coordinate\Coordinate</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="mf">12.568337</span><span class="p">,</span> <span class="mf">55.676097</span><span class="p">)),</span>
    <span class="k">new</span> <span class="nx">\Geotools\Coordinate\Coordinate</span><span class="p">(</span><span class="s1">'-74.005973 40.714353'</span><span class="p">)),</span>
<span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$geotools</span><span class="o">-&gt;</span><span class="na">batch</span><span class="p">(</span><span class="nv">$geocoder</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">reverse</span><span class="p">(</span><span class="nv">$coordinates</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">parallel</span><span class="p">();</span>
<span class="c1">// ...</span>
</pre></div>

<p>If you want to batch it in serie, replace the method <code>parallel()</code> by <code>serie()</code>.</p>

<p>To optimize batch requests you need to register providers according to their <strong>capabilities</strong> and what you're
<strong>looking for</strong> (geocode street addresses, geocode IPv4, geocode IPv6 or reverse geocoding),
please read more at the <a href="https://github.com/willdurand/Geocoder#freegeoipprovider">Geocoder library doc</a>.</p>

<h2>Distance</h2>

<p>It provides methods to compute the distance in <em>meter</em> (by default), <em>km</em>, <em>mi</em> or <em>ft</em> between two coordinates
using <em>flat</em> (most performant), <em>haversine</em> or <em>vincenty</em> (most accurate) algorithms.</p>

<p>Those coordinates should be in the same ellipsoid.</p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$geotools</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geotools\Geotools</span><span class="p">();</span>
<span class="nv">$coordA</span>   <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geotools\Coordinate\Coordinate</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="mf">48.8234055</span><span class="p">,</span> <span class="mf">2.3072664</span><span class="p">));</span>
<span class="nv">$coordB</span>   <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geotools\Coordinate\Coordinate</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="mf">43.296482</span><span class="p">,</span> <span class="mf">5.36978</span><span class="p">));</span>
<span class="nv">$distance</span> <span class="o">=</span> <span class="nv">$geotools</span><span class="o">-&gt;</span><span class="na">distance</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setFrom</span><span class="p">(</span><span class="nv">$coordA</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setTo</span><span class="p">(</span><span class="nv">$coordB</span><span class="p">);</span>

<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="nv">$distance</span><span class="o">-&gt;</span><span class="na">flat</span><span class="p">());</span> <span class="c1">// 659166.50038742 (meters)</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="nv">$distance</span><span class="o">-&gt;</span><span class="na">in</span><span class="p">(</span><span class="s1">'km'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">haversine</span><span class="p">());</span> <span class="c1">// 659.02190812846</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="nv">$distance</span><span class="o">-&gt;</span><span class="na">in</span><span class="p">(</span><span class="s1">'mi'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">vincenty</span><span class="p">());</span> <span class="c1">// 409.05330679648</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="nv">$distance</span><span class="o">-&gt;</span><span class="na">in</span><span class="p">(</span><span class="s1">'ft'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">flat</span><span class="p">());</span> <span class="c1">// 2162619.7519272</span>
</pre></div>

<h2>Point</h2>

<p>It provides methods to compute the initial and final <em>bearing</em> in degrees, the initial and final <em>cardinal direction</em>,
the <em>middle point</em> and the <em>destination point</em>. The middle and the destination points returns a
<code>\Geotools\Coordinate\Coordinate</code> object with the same ellipsoid.</p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$geotools</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geotools\Geotools</span><span class="p">();</span>
<span class="nv">$coordA</span>   <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geotools\Coordinate\Coordinate</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="mf">48.8234055</span><span class="p">,</span> <span class="mf">2.3072664</span><span class="p">));</span>
<span class="nv">$coordB</span>   <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geotools\Coordinate\Coordinate</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="mf">43.296482</span><span class="p">,</span> <span class="mf">5.36978</span><span class="p">));</span>
<span class="nv">$point</span>    <span class="o">=</span>  <span class="nv">$geotools</span><span class="o">-&gt;</span><span class="na">point</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setFrom</span><span class="p">(</span><span class="nv">$coordA</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setTo</span><span class="p">(</span><span class="nv">$coordB</span><span class="p">);</span>

<span class="nb">printf</span><span class="p">(</span><span class="s2">"%d</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$point</span><span class="o">-&gt;</span><span class="na">initialBearing</span><span class="p">());</span> <span class="c1">// 157 (degrees)</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$point</span><span class="o">-&gt;</span><span class="na">initialCardinal</span><span class="p">());</span> <span class="c1">// SSE (SouthSouthEast)</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%d</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$point</span><span class="o">-&gt;</span><span class="na">finalBearing</span><span class="p">());</span> <span class="c1">// 160 (degrees)</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$point</span><span class="o">-&gt;</span><span class="na">finalCardinal</span><span class="p">());</span> <span class="c1">// SSE (SouthSouthEast)</span>

<span class="nv">$middlePoint</span> <span class="o">=</span> <span class="nv">$point</span><span class="o">-&gt;</span><span class="na">middle</span><span class="p">();</span> <span class="c1">// \Geotools\Coordinate\Coordinate</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$middlePoint</span><span class="o">-&gt;</span><span class="na">getLatitude</span><span class="p">());</span> <span class="c1">// 46.070143125815</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$middlePoint</span><span class="o">-&gt;</span><span class="na">getLongitude</span><span class="p">());</span> <span class="c1">// 3.9152401085931</span>

<span class="nv">$destinationPoint</span> <span class="o">=</span> <span class="nv">$geotools</span><span class="o">-&gt;</span><span class="na">point</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setFrom</span><span class="p">(</span><span class="nv">$coordA</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">destination</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">200000</span><span class="p">);</span> <span class="c1">// \Geotools\Coordinate\Coordinate</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$destinationPoint</span><span class="o">-&gt;</span><span class="na">getLatitude</span><span class="p">());</span> <span class="c1">// 47.026774650075</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$destinationPoint</span><span class="o">-&gt;</span><span class="na">getLongitude</span><span class="p">());</span> <span class="c1">// 2.3072664</span>
</pre></div>

<h2>Geohash</h2>

<p>It provides methods to get the <em>geo hash</em> and its <em>bounding box's coordinates</em> (SouthWest &amp; NorthEast)
of a coordinate and the <em>coordinate</em> and its <em>bounding box's coordinates</em> (SouthWest &amp; NorthEast) of a geo hash.</p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$geotools</span>       <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geotools\Geotools</span><span class="p">();</span>
<span class="nv">$coordToGeohash</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Geotools\Coordinate\Coordinate</span><span class="p">(</span><span class="s1">'43.296482, 5.36978'</span><span class="p">);</span>

<span class="c1">// encoding</span>
<span class="nv">$encoded</span> <span class="o">=</span> <span class="nv">$geotools</span><span class="o">-&gt;</span><span class="na">geohash</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">encode</span><span class="p">(</span><span class="nv">$coordToGeohash</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="c1">// 12 is the default length / precision</span>
<span class="c1">// encoded</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$encoded</span><span class="o">-&gt;</span><span class="na">getGeohash</span><span class="p">());</span> <span class="c1">// spey</span>
<span class="c1">// encoded bounding box</span>
<span class="nv">$boundingBox</span> <span class="o">=</span> <span class="nv">$encoded</span><span class="o">-&gt;</span><span class="na">getBoundingBox</span><span class="p">();</span> <span class="c1">// array of \Geotools\Coordinate\CoordinateInterface</span>
<span class="nv">$southWest</span>   <span class="o">=</span> <span class="nv">$boundingBox</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="nv">$northEast</span>   <span class="o">=</span> <span class="nv">$boundingBox</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"http://www.openstreetmap.org/?minlon=%s&amp;minlat=%s&amp;maxlon=%s&amp;maxlat=%s&amp;box=yes</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
    <span class="nv">$southWest</span><span class="o">-&gt;</span><span class="na">getLongitude</span><span class="p">(),</span> <span class="nv">$southWest</span><span class="o">-&gt;</span><span class="na">getLatitude</span><span class="p">(),</span>
    <span class="nv">$northEast</span><span class="o">-&gt;</span><span class="na">getLongitude</span><span class="p">(),</span> <span class="nv">$northEast</span><span class="o">-&gt;</span><span class="na">getLatitude</span><span class="p">()</span>
<span class="p">);</span> <span class="c1">// http://www.openstreetmap.org/?minlon=5.2734375&amp;minlat=43.2421875&amp;maxlon=5.625&amp;maxlat=43.41796875&amp;box=yes</span>

<span class="c1">// decoding</span>
<span class="nv">$decoded</span> <span class="o">=</span> <span class="nv">$geotools</span><span class="o">-&gt;</span><span class="na">geohash</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">decode</span><span class="p">(</span><span class="s1">'spey61y'</span><span class="p">);</span>
<span class="c1">// decoded coordinate</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$decoded</span><span class="o">-&gt;</span><span class="na">getCoordinate</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getLatitude</span><span class="p">());</span> <span class="c1">// 43.296432495117</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"%s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$decoded</span><span class="o">-&gt;</span><span class="na">getCoordinate</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getLongitude</span><span class="p">());</span> <span class="c1">// 5.3702545166016</span>
<span class="c1">// decoded bounding box</span>
<span class="nv">$boundingBox</span> <span class="o">=</span> <span class="nv">$decoded</span><span class="o">-&gt;</span><span class="na">getBoundingBox</span><span class="p">();</span> <span class="c1">//array of \Geotools\Coordinate\CordinateInterface</span>
<span class="nv">$southWest</span>   <span class="o">=</span> <span class="nv">$boundingBox</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="nv">$northEast</span>   <span class="o">=</span> <span class="nv">$boundingBox</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">"http://www.openstreetmap.org/?minlon=%s&amp;minlat=%s&amp;maxlon=%s&amp;maxlat=%s&amp;box=yes</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
    <span class="nv">$southWest</span><span class="o">-&gt;</span><span class="na">getLongitude</span><span class="p">(),</span> <span class="nv">$southWest</span><span class="o">-&gt;</span><span class="na">getLatitude</span><span class="p">(),</span>
    <span class="nv">$northEast</span><span class="o">-&gt;</span><span class="na">getLongitude</span><span class="p">(),</span> <span class="nv">$northEast</span><span class="o">-&gt;</span><span class="na">getLatitude</span><span class="p">()</span>
<span class="p">);</span> <span class="c1">// http://www.openstreetmap.org/?minlon=5.3695678710938&amp;minlat=43.295745849609&amp;maxlon=5.3709411621094&amp;maxlat=43.297119140625&amp;box=yes</span>
</pre></div>

<h2>CLI</h2>

<p>It provides command lines to compute methods provided by <strong>Distance</strong>, <strong>Point</strong>, <strong>Geohash</strong> and <strong>Convert</strong> classes.
Thanks to the <a href="https://github.com/symfony/Console">Symfony Console Component</a>.</p>

<div class="highlight"><pre><span class="nv">$ </span>php geotools list // list of available commands
<span class="nv">$ </span>php geotools <span class="nb">help </span>distance:flat // get the <span class="nb">help</span>
<span class="nv">$ </span>php geotools distance:flat <span class="s2">"40° 26.7717, -79° 56.93172"</span> <span class="s2">"30°16′57″N 029°48′32″W"</span> // 4690203.1048522
<span class="nv">$ </span>php geotools distance:haversine <span class="s2">"35,45"</span> <span class="s2">"45,35"</span> --ft  // 4593030.9787593
<span class="nv">$ </span>php geotools distance:vincenty <span class="s2">"35,45"</span> <span class="s2">"45,35"</span> --km  // 1398.4080717661
<span class="nv">$ </span>php geotools d:v <span class="s2">"35,45"</span> <span class="s2">"45,35"</span> --km --ellipsoid<span class="o">=</span>WGS60 // 1398.4145201642
<span class="nv">$ </span>php geotools point:initial-cardinal <span class="s2">"40:26:46.302N 079:56:55.903W"</span> <span class="s2">"43.296482, 5.36978"</span> // NE <span class="o">(</span>NordEast<span class="o">)</span>
<span class="nv">$ </span>php geotools point:final-cardinal <span class="s2">"40:26:46.302N 079:56:55.903W"</span> <span class="s2">"43.296482, 5.36978"</span> // ESE <span class="o">(</span>EastSouthEast<span class="o">)</span>
<span class="nv">$ </span>php geotools point:destination <span class="s2">"40° 26.7717, -79° 56.93172"</span> 25 10000 // 40.527599285543, -79.898914904538
<span class="nv">$ </span>php geotools p:d <span class="s2">"40° 26.7717, -79° 56.93172"</span> 25 10000 --ellipsoid<span class="o">=</span>GRS_1980 // 40.527599272782, -79.898914912379
<span class="nv">$ </span>php geotools geohash:encode <span class="s2">"40° 26.7717, -79° 56.93172"</span> --length<span class="o">=</span>3 // dpp
<span class="nv">$ </span>php geotools convert:dm <span class="s2">"40.446195, -79.948862"</span> --format<span class="o">=</span><span class="s2">"%P%D°%N %p%d°%n"</span> // 40°26.7717 -79°56.93172
<span class="nv">$ </span>php geotools convert:dms <span class="s2">"40.446195, -79.948862"</span> --format<span class="o">=</span><span class="s2">"%P%D:%M:%S, %p%d:%m:%s"</span> // 40:26:46, -79:56:56
<span class="nv">$ </span>php geotools convert:utm <span class="s2">"60.3912628, 5.3220544"</span> // 32V 297351 6700644
<span class="nv">$ </span>php geotools c:u <span class="s2">"60.3912628, 5.3220544"</span> --ellipsoid<span class="o">=</span>AIRY // 32V 297371 6700131
...
</pre></div>

<p>Compute street addresses, IPv4s or IPv6s geocoding and reverse geocoding right in your console.</p>

<p>It's possible to define and precise your request through these options:</p>

<ul>
<li>
<code>--adapter</code>: <code>socket</code>, <code>buzz</code>, <code>zend</code>, <code>guzzle</code> or <code>curl</code> by default.</li>
<li>
<code>--provider</code>: <code>bing_maps</code>, <code>yahoo</code>, <code>maxmind</code>... <code>google_maps</code> is the default one. See the full list
<a href="https://github.com/willdurand/Geocoder#providers">here</a>.</li>
<li>
<code>--raw</code>: the result output in RAW format, shows Adapter, Provider and Arguments if any.</li>
<li>
<code>--json</code>: the result output in JSON string format.</li>
<li>
<code>--args</code>: this option accepts multiple values (e.g. --args="API_KEY" --args="LOCALE") if your provider needs or
can have arguments.</li>
<li>
<code>--dumper</code>: this option is available for geocoding, <code>gpx</code>, <code>geojson</code>, <code>kml</code>, <code>wkb</code> and <code>wkt</code> by default.
Read more <a href="https://github.com/willdurand/Geocoder#dumpers">here</a>.</li>
<li>
<code>--format</code>: this option is available for reverse geocoding, see the mapping
<a href="https://github.com/willdurand/Geocoder#formatter">here</a>.</li>
</ul><div class="highlight"><pre><span class="nv">$ </span>php geotools <span class="nb">help </span>geocoder:geocode // get the <span class="nb">help</span>
<span class="nv">$ </span>php geotools geocoder:geocode <span class="s2">"Copenhagen, Denmark"</span> // 55.6760968, 12.5683371
<span class="nv">$ </span>php geotools geocoder:geocode <span class="s2">"74.200.247.59"</span> --provider<span class="o">=</span><span class="s2">"free_geo_ip"</span> --adapter<span class="o">=</span><span class="s2">"socket"</span> // 37.7484, -122.4156
<span class="nv">$ </span>php geotools geocoder:geocode Paris --args<span class="o">=</span><span class="s2">"fr_FR"</span> --args<span class="o">=</span><span class="s2">"France"</span> --args<span class="o">=</span><span class="s2">"true"</span> // 48.856614, 2.3522219
<span class="nv">$ </span>php geotools geocoder:geocode Paris --dumper<span class="o">=</span>wkt // POINT<span class="o">(</span>2.352222 48.856614<span class="o">)</span>
...
<span class="nv">$ </span>php geotools geocoder:reverse <span class="s2">"48.8631507, 2.388911"</span> // Avenue Gambetta 10, 75020 Paris
<span class="nv">$ </span>php geotools geocoder:reverse <span class="s2">"48.8631507, 2.388911"</span> --format<span class="o">=</span><span class="s2">"%L, %R, %C"</span> // Paris, Île-De-France, France
<span class="nv">$ </span>php geotools geocoder:reverse <span class="s2">"48.8631507, 2.388911"</span> --format<span class="o">=</span><span class="s2">"%L, %R, %C"</span> --provider<span class="o">=</span><span class="s2">"openstreetmaps"</span>
// Paris, Île-De-France, France Métropolitaine
...
<span class="nv">$ </span>php geotools geocoder:geocode <span class="s2">"Tagensvej 47, Copenhagen"</span> --raw --args<span class="o">=</span>da_DK --args<span class="o">=</span>Denmark --adapter<span class="o">=</span>socket
</pre></div>

<p>The last command will show an output like this:</p>

<pre><code>Adapter:       \Geocoder\HttpAdapter\SocketHttpAdapter
Provider:      \Geocoder\Provider\GoogleMapsProvider
Arguments:     da_DK,Denmark
---
Latitude:      55.699953
Longitude:     12.552736
Bounds
 - South: 55.699953
 - West:  12.552736
 - North: 55.699953
 - East:  12.552736
Street Number: 47
Street Name:   Tagensvej
Zipcode:       2200
City:          Copenhagen
City District: København N
County:        København
County Code:   KØBENHAVN
Region:        Capital Region Of Denmark
Region Code:   CAPITAL REGION OF DENMARK
Country:       Denmark
Country Code:  DK
Timezone:
</code></pre>

<h2>Unit Tests</h2>

<p>To run unit tests, you'll need the <code>cURL</code> extension and a set of dependencies, you can install them using Composer:</p>

<div class="highlight"><pre><span class="nv">$ </span>php composer.phar install --dev
</pre></div>

<p>Once installed, just launch the following command:</p>

<div class="highlight"><pre><span class="nv">$ </span>phpunit --coverage-text
</pre></div>

<h2>Contributing</h2>

<p>Please see <a href="https://github.com/toin0u/Geotools/blob/master/CONTRIBUTING.md">CONTRIBUTING</a> for details.</p>

<h2>Credits</h2>

<ul>
<li>
<a href="https://twitter.com/toin0u">Antoine Corcy</a> - Owner</li>
<li><a href="https://twitter.com/pborreli">Pascal Borreli</a></li>
<li><a href="https://twitter.com/philsturgeon">Phil Sturgeon</a></li>
<li><a href="https://github.com/toin0u/Geotools/contributors">All contributors</a></li>
</ul><h2>Acknowledgments</h2>

<ul>
<li><a href="http://geocoder-php.org/">Geocoder</a></li>
<li><a href="http://reactphp.org/">ReactPHP</a></li>
<li><a href="https://github.com/symfony/Console">Symfony Console Component</a></li>
<li>
<a href="https://github.com/jsor/Geokit">Geokit</a>,
<a href="https://github.com/weejames/Geotools-for-CodeIgniter">Geotools-for-CodeIgniter</a>,
<a href="https://github.com/jillesvangurp/geotools-php">geotools-php</a> ...</li>
</ul><h2>Changelog</h2>

<p><a href="https://github.com/toin0u/Geotools/blob/master/CHANGELOG.md">See the changelog file</a></p>

<h2>Support</h2>

<p><a href="https://github.com/toin0u/Geotools/issues">Please open an issues in github</a></p>

<h2>License</h2>

<p>Geotools is released under the MIT License. See the bundled
<a href="https://github.com/toin0u/Geotools/blob/master/LICENSE">LICENSE</a> file for details.</p>
      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/toin0u">toin0u</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-38870291-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>